# íŠ¸ëŸ¬ë¸”ìŠˆíŒ…



### ì›¹ì„œë²„ì—ì„œ ìžì£¼ ì¼ì–´ë‚˜ëŠ” ìž¥ì•  ìœ í˜•

1. ë””ìŠ¤í¬ í’€
   - ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì—ëŸ¬ ë˜ëŠ” ë©ˆì¶¤
   - ìž„ì‹œ íŒŒì¼ì„ ìƒì„±í•´ì•¼ í•˜ëŠ” ëª…ë ¹ì–´ì˜ ì‹¤í–‰ì´ ì•ˆë¨
   - ë¦¬ëˆ…ìŠ¤ëŠ” ë£¨íŠ¸ ìœ ì €ë§Œì„ ìœ„í•œ ì˜ˆì•½ ë¸”ë¡ì„ ë‚¨ê²¨ë‘ì–´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„
2. ë©”ëª¨ë¦¬ í’€
   - ë©”ëª¨ë¦¬ë¥¼ ë‹¤ ì“°ê³  ìŠ¤ì™‘ ì˜ì—­ê¹Œì§€ ì‚¬ìš©í•´ ì‹œìŠ¤í…œì´ ëŠë ¤ì ¸ ìœ ì €ì—ê²Œ ì‘ë‹µì´ ëŠë ¤ì§
3. ì‹œìŠ¤í…œ ë¶€í•˜
   - ë¡œë“œ ì—ë²„ë¦¬ì§€ê°€ cpu ì½”ì–´ ê°œìˆ˜ë³´ë‹¤ ë†’ì€ ê²½ìš° ìœ ì € ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ëŠ¦ì–´ì§
4. í”„ë¡œê·¸ëž¨ì˜ ë¬¸ì œ
   - í”„ë¡œê·¸ëž¨ ì˜¤ë™ìž‘



### í•œ ì¤„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ì˜ í•µì‹¬ í‚¤ì›Œë“œ

í•œ ì¤„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸: íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šê³  CLI ìƒíƒœì—ì„œ ëª…ë ¹ì–´ë¥¼ ì´ì–´ë¶™ì–´ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒ

- íŒŒì´í”„ë¼ì¸ |

  - ì•ž ëª…ë ¹ã…‡ì–´ì˜ ê²°ê³¼ë¥¼ ë’¤ ëª…ë ¹ì–´ì˜ ìž…ë ¥ìœ¼ë¡œ ì „ë‹¬

    > í˜„ìž¬ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ì¤‘ì— aaaê°€ ë“¤ì–´ê°„ íŒŒì¼ì„ ì°¾ìŒ
    >
    > `ls -l | grep aaa`

- ì„¸ë¯¸ì½œë¡  ;

  - ì—¬ëŸ¬ ê°œì˜ ëª…ë ¹ì–´ë¥¼ êµ¬ë¶„í•˜ì—¬ ì‹¤í–‰

  - ë‹¨ì¼ ëª…ë ¹ì‹¤í–‰, ì•ž ë’¤ ëª…ë ¹ì–´ ê²°ê³¼ëŠ” ì„œë¡œ ìƒê´€ì—†ìŒ

    > ë¡œë“œ ì—ë²„ë¦¬ì§€ì™€ ë””ìŠ¤í¬ í†µê³„ë¥¼ í™•ì¸í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì´ì–´ì„œ ì‹«ì• 
    >
    > `uptime;df -h`

- AND ì¡°ê±´ &&

  - í…ŒìŠ¤íŠ¸ ëª…ë ¹ì—ì„œ ì¡°ê±´ì´ ì°¸ì´ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰

    > - ì¡°ê±´ì„ ì°¸ìœ¼ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸
    >
    >   `test 1 == 1 && echo "ì´ ë¬¸ìž¥ì€ ì¡°ê±´ì´ ì°¸ì¼ ë•Œ ë³´ìž…ë‹ˆë‹¤."`
    >
    > - ì¡°ê±´ì„ ê±°ì§“ìœ¼ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸
    >
    >   `test 1 == 2 && echo "ì´ ë¬¸ìž¥ì€ ì¡°ê±´ì´ ì°¸ ì¼ ë•Œ ë³´ìž…ë‹ˆë‹¤"`

- OR ì¡°ê±´ ||

  - í…ŒìŠ¤íŠ¸ ëª…ë ¹ì—ì„œ ì¡°ê±´ì´ ê±°ì§“ì´ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰

    > - ì¡°ê±´ì„ ì°¸ìœ¼ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸
    >
    >   `test 1 == 1 || echo "ì´ ë¬¸ìž¥ì€ ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œ ë³´ìž…ë‹ˆë‹¤."`
    >
    > - ì¡°ê±´ì„ ê±°ì§“ìœ¼ë¡œ ì„¤ì •í•˜ê³  í…ŒìŠ¤íŠ¸
    >
    >   `test 1 == 2 || echo "ì´ ë¬¸ìž¥ì€ ì¡°ê±´ì´ ê±°ì§“ì¼ ë•Œ ë³´ìž…ë‹ˆë‹¤.`



### íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê³¼ì •

##### ë¨¼ì € íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì„ ìœ„í•´ ìž¥ì• ë¥¼ ë§Œë“¤ì–´ë³´ìž!

- `dd` íŒŒì¼ ë³µì‚¬ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´

   `/var/log/ngnix` (ì›¹ ë¡œê·¸) ë””ë ‰í† ë¦¬ê°€ ê°€ë“ì°¨ì„œ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ 

  â€‹	ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•œ ìž¥ì• ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œ

> `dd if=ë³µì‚¬í•˜ê³ í”ˆ íŒŒì¼ of=ë¶™ì—¬ë„£ê¸°í•  íŒŒì¼ bs=4M count=20`: íŒŒì¼ ë³µì‚¬
>
> `bs=í•œ ë²ˆì— ë³µì‚¬í•  ë‹¨ìœ„`, `count=ë³µì‚¬ ë°˜ë³µ íšŸìˆ˜`
>
> ê°€ë ¹ 2Gì˜ íŒŒì¼ì„ 4Mì‹ 20ë²ˆ ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë¶™ì—¬ë„£ì€ íŒŒì¼ì˜ ìš©ëŸ‰ì€ 80M
>
> ì˜ˆì‹œ)
>
> ```shell
> [root@cent1 /]# ls -alh
> total 2.1G
> -rw-r--r--    1 root    root       9 Nov 24 13:35 dummy.log # ìž„ì˜ë¡œ ë§Œë“  íŒŒì¼
> -rw-------.   1 root    root    2.0G Dec  4  2020 swapfile
> 
> [root@cent1 /]# dd if=swapfile of=dummy.log bs=4M count=20
> 20+0 records in
> 20+0 records out
> 83886080 bytes (84 MB, 80 MiB) copied, 3.6724 s, 22.8 MB/s
> 
> [root@cent1 /]# ls -alh
> total 2.1G
> -rw-r--r--    1 root    root     80M Nov 24 13:37 dummy.log # ìš©ëŸ‰ ëŠ˜ì–´ë‚¨
> -rw-------.   1 root    root    2.0G Dec  4  2020 swapfile
> 
> # ì›í•˜ëŠ”ê±´ logíŒŒì¼ì˜ ë””ìŠ¤í¬ ìš©ëŸ‰ ì´ˆê³¼ë‹ˆê¹ ë£¨íŠ¸ì˜ dummy.logëŠ” ì‚­ì œí•˜ê³  ngnix ë””ë ‰í† ë¦¬ì— ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ë‹¤
> # ê·¸ë¦¬ê³  ë‹¤ì‹œ swapfile ë³µì‚¬í•˜ê¸°
> 
> [root@cent1 nginx]# dd if=swapfile of=/var/log/nginx/dummy.log bs=100M count=1
> 1+0 records in
> 1+0 records out
> 104857600 bytes (105 MB, 100 MiB) copied, 3.36137 s, 31.2 MB/s
> 
> [root@cent1 nginx]# ls -alh
> total 101M
> drwxrwx---.  2 nginx root   80 Nov 24 12:47 .
> drwxr-xr-x. 12 root  root 4.0K Nov 24 08:47 ..
> -rw-r--r--.  1 root  root 5.3K Nov 24 11:45 access.log
> # dummyíŒŒì¼ì´ ì´ˆê¸°í™” ë£¨ì— 100Më§Œí¼ ë³µì‚¬ê°€ ë˜ëŠ” ê²ƒ
> -rw-r--r--   1 root  root 100M Nov 24 13:53 dummy.log   
> -rw-r--r--.  1 root  root  512 Nov 24 11:45 error.log
> -rw-r--r--.  1 root  root    0 Nov 24 08:47 VWS.access.log
> 
> # ìš©ëŸ‰ì„ ë” í‚¤ì›Œë³´ìž 
> [root@cent1 nginx]# dd if=/swapfile of=dummy.log bs=1G count=100
> # í„°ë¯¸ë„ì´ ë©ˆì¶°ì„œ ê·¸ëƒ¥ nginx ë””ë ‰í† ë¦¬ê°€ ë””ìŠ¤í¬ ì´ˆê³¼ ëë‹¤ê³  ê°€ì •í•˜ê³  ì§„í–‰í•˜ê¸°ë¡œ í•¨...^ã… ^
> 
> # *dummy.logë¥¼ ì§€ì›Œë„ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ì¤„ì–´ë“¤ì§€ ì•ŠìŒ...ì™œì§€...?
> [root@cent1 /]# df -h
> Filesystem      Size  Used Avail Use% Mounted on
> devtmpfs        467M     0  467M   0% /dev
> tmpfs           485M     0  485M   0% /dev/shm
> tmpfs           485M   13M  472M   3% /run
> tmpfs           485M     0  485M   0% /sys/fs/cgroup
> /dev/sda1        10G  5.6G  4.5G  56% /
> tmpfs            97M     0   97M   0% /run/user/1000
> tmpfs            97M     0   97M   0% /run/user/0
> ```
>
> - **íŒŒì¼ì„ ì§€ì›Œë„ ì „ì²´ ë””ìŠ¤í¬ ìš©ëŸ‰ì€ ì¤„ì–´ë“¤ì§€ ì•ŠëŠ” ì›ì¸**
>
>   ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ë†“ì€ ìƒíƒœì—ì„œ ì‚­ì œí•˜ê²Œ ë˜ë©´ 
>
>   íŒŒì¼ì€ ì‚­ì œëœ ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì™€ì˜ ì—°ê²° ë‚¨ì•„ ìžˆëŠ” ìƒíƒœ(í”„ë¡œì„¸ìŠ¤ëŠ” ê³„ì† ë™ìž‘ ì¤‘)
>
>   íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ lsë¡œ ë³´ì´ì§€ëŠ” ì•Šì§€ë§Œ reference countê°€ 0ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— 
>
>   ì‹¤ì œë¡œ ì§€ì›Œì§€ì§€ ì•Šê³  ë‚¨ì•„ìžˆëŠ” ê²½ìš°ê°€ ë”ëŸ¬ ìžˆìŒ
>
>   - `lsof`: í”„ë¡œì„¸ìŠ¤ì™€ ì—°ê²°ëœ íŒŒì¼ë“¤ì„ ë³´ì—¬ì¤Œ
>
>     ```shell
>     sudo lsof | grep deleted
>     
>     [root@cent1 /]# sudo lsof | grep deleted
>     COMMAND PID  USER  FD TYPE DEVICE SIZE/OFF   NODE    NAME
>     ...
>     dd       3785 root 1w  REG 8,1    2147483648 8389361 /var/log/nginx/dummy.log (deleted)
>     ```
>
>     | COMMAND | PID  | USER | FD   | TYPE | DEVICE | SIZE/OFF   | NODE    | NAME                     |
>     | ------- | ---- | ---- | ---- | ---- | ------ | ---------- | ------- | ------------------------ |
>     | dd      | 3785 | root | 1w   | REG  | 8,1    | 2147483648 | 8389361 | /var/log/nginx/dummy.log |
>
>   - ì‚­ì œëœ íŒŒì¼(deleted)ì˜ PID(**í”„ë¡œì„¸ìŠ¤ì˜ ì•„ì´ë””**)ë¥¼ ì°¾ì„ ìˆ˜ ìžˆìŒ
>
>     `ps aux`: ì‹¤í–‰ì¤‘ì¸ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ í™•ì¸(`ps -ef`ë„ ê°™ì€ ê¸°ëŠ¥)
>
>   ```shell
>   [root@cent1 /]# ps aux | grep 3785
>   root        3785  3.7 59.4 1055916 590008 pts/1  T    14:19   3:31 dd if=/swapfile of=dummy.log bs=1G count=100
>   root        4173  0.0  0.1  12112  1092 pts/1    S+   15:53   0:00 grep --color=auto 3785
>   ```
>
>   > ìš©ëŸ‰ì„ ë” í‚¤ìš¸ë ¤ë‹¤ê°€ í„°ë¯¸ë„ì´ ë©ˆì¶°ì„œ ëª…ë ¹ ì·¨ì†Œí–ˆëŠ”ë° ì•„ì§ ì‹¤í–‰ì¤‘ì´ì—ˆë‹¤
>   >
>   > í”„ë¡œì„¸ìŠ¤ë¥¼ killí•˜ë©´ ëœë‹¤
>   >
>   > ```shell
>   > [root@cent1 /]# kill -9 3785
>   > [root@cent1 /]# ps aux | grep 3785
>   > root        4191  0.0  0.1  12112  1116 pts/1    S+   16:01   0:00 grep --color=auto 3785
>   > [2]+  Killed                  dd if=/swapfile of=dummy.log bs=1G count=100  (wd: /var/log/nginx)
>   > (wd now: /)
>   > 
>   > # ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸í•´ë³´ë‹ˆ ì›ëž˜ ìš©ëŸ‰ìœ¼ë¡œ ì¤„ì–´ë“¦ðŸ˜
>   > [root@cent1 /]# df -h
>   > Filesystem      Size  Used Avail Use% Mounted on
>   > devtmpfs        467M     0  467M   0% /dev
>   > tmpfs           485M     0  485M   0% /dev/shm
>   > tmpfs           485M   13M  472M   3% /run
>   > tmpfs           485M     0  485M   0% /sys/fs/cgroup
>   > /dev/sda1        10G  3.6G  6.5G  36% /
>   > tmpfs            97M     0   97M   0% /run/user/1000
>   > tmpfs            97M     0   97M   0% /run/user/0
>   > ```
>   - `kill`: í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
>     - `kill -9 PID`: ê°•ì œ ì¢…ë£Œ
>
>     - `kill -15 PID`: ìž‘ì—… ì¢…ë£Œ
>
> - `dd` ì™€ ìœ ì‚¬í•˜ë©´ì„œ ë‹¤ë¥¸ `truncate`
>
>   `truncate -s file_size file_name`: ì•„ì´ë…¸ë“œë¥¼ ëŠ˜ë ¤ì£¼ëŠ” ê±°ë¼ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ëž‘ ìƒê´€x
>
>   ```shell
>   # [root@cent1 nginx]# truncate -s 1GB dummy.log
>   # dummy.log ìš©ëŸ‰ì€ ê·¸ëŒ€ë¡œ
>   ```



### ì—ëŸ¬ êµ¬í˜„ í–ˆë‹¤ì¹˜ê³  íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ì‹œìž‘...!

- nginx ë¡œê·¸ë¥¼ ë³¼ë ¤ê³  í–ˆëŠ”ë° ì—ëŸ¬ê°€ ë–´ë‹¤ðŸ˜¥ ì–´ë–»ê²Œ í•´ê²°í•´ì•¼ í• ê¹Œ?

```shell
[root@cent1 ~]# ls -al /var/log/nginx
No space left on device
```



1. ê°™ì€ ì—ëŸ¬ê°€ ê³„ì† ë°œìƒí•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸

2. ì„œë²„ ë¡œë“œê°€ ë†’ì€ê°€: ë¡œë“œ í”„ë¡œì„¸ìŠ¤ ì¡°ì‚¬/ì²˜ë¦¬

   cpu ì½”ì–´ ê°œìˆ˜ ë³´ë‹¤ ë¡œë“œ ì—ë²„ë¦¬ì§€ê°€ ë†’ìœ¼ë©´ ì„œë²„ ë¡œë“œê°€ ë†’ì€ ê²ƒ

   `cat /proc/cpuinfo` ë¡œ cpu ì •ë³´ í™•ì¸

   > processor ê°œìˆ˜ í™•ì¸

   `uptime`ìœ¼ë¡œ ë¡œë“œì—ë²„ë¦¬ì§€ í™•ì¸

   > load average: 0.00, 0.00, 0.00

3. ë©”ëª¨ë¦¬ë¥¼ ë§Žì´ ì“°ëŠ”ê°€: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¡°ì‚¬/ì²˜ë¦¬

   `free -m`: ë©”ëª¨ë¦¬ í™•ì¸

   ```shell
   [root@cent1 ~]# free -m
                 total        used        free      shared  buff/cache   available
   Mem:            968         126         621          12         221         692
   Swap:          2047           0        2047
   ```
   ì´ ì •ë„ë©´ ë‚˜ì˜ì§€ ì•Šë‹¤

4. ë””ìŠ¤í¬ë¥¼ ë§Žì´ ì“°ëŠ”ê°€

   `df -h`: ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸

   `-h`: íœ´ë¨¼ì´ ì½ê¸° ì‰½ê²Œ ë³´ì—¬ì£¼ëŠ” í”Œëž˜ê·¸

   ```shell
   [root@cent1 ~]# df -h
   Filesystem      Size  Used Avail Use% Mounted on
   devtmpfs        467M     0  467M   0% /dev
   tmpfs           485M     0  485M   0% /dev/shm
   tmpfs           485M   13M  472M   3% /run
   tmpfs           485M     0  485M   0% /sys/fs/cgroup
   /dev/sda1        10G  3.6G  6.5G  100% /              # í•œ íŒŒë””ì…˜ì—ì„œ ìœ ë… ë§Žì´ ì”€
   tmpfs            97M     0   97M   0% /run/user/1000
   tmpfs            97M     0   97M   0% /run/user/0
   ```

   - í•´ë‹¹ ë””ìŠ¤í¬ë¥¼ ì¡°ì‚¬í•´ë³´ìž

     - ë³´í†µ ì§§ì€ ì‹œê°„ì— ë””ìŠ¤í¬ê°€ ê°€ë“ ì°¬ ê²½ìš°ëŠ” ì›¹ ë¡œê·¸ê°€ ìŒ“ì˜€ì„ ê°€ëŠ¥ì„±ì´ ë†’ì§€ë§Œ

       rootë¶€í„° ì°¨ê·¼ì°¨ê·¼ ì¡°ì‚¬í•´ë³´ìž

   - ê° ë””ë ‰í† ë¦¬ ë³„ë¡œ ìš©ëŸ‰ ê³„ì‚° í›„ í° ìš©ëŸ‰ì„ ì°¨ì§€í•˜ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ì°¾ìž

     `du -h --max-depth=1`: í˜„ìž¬ ìœ„ì¹˜ì—ì„œ í•œ ë‹¨ê³„ ì•„ëž˜ì˜ ë””ìŠ¤í¬ ìš©ëŸ‰ ì´í•©ì„ ë‚˜íƒ€ë‚´ëŠ” ëª…ë ¹ì–´

     ```shell
     [root@cent1 /]# du -h --max-depth=1
     0       ./dev
     # /proc: ì»¤ë„ í”„ë¡œì„¸ìŠ¤ë¥¼ í¬í•¨í•˜ëŠ” ê° ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì •ë³´ ì €ìž¥
     # ë””ìŠ¤í¬ì— ìžˆëŠ”ê²Œ ì•„ë‹ˆë¼ ë©”ëª¨ë¦¬ ìƒì— ìžˆê¸°ì— ëª…ë ¹ì–´ ìƒê²¼ë‹¤ê°€ ì‚¬ë¼ì§ˆ ìˆ˜ ìžˆì–´ì„œ ì‹ ê²½ ì•ˆì¨ë‘ ëŒ
     du: cannot access './proc/3563/task/3563/fd/3': No such file or directory
     du: cannot access './proc/3563/task/3563/fdinfo/3': No such file or directory
     du: cannot access './proc/3563/fd/4': No such file or directory
     du: cannot access './proc/3563/fdinfo/4': No such file or directory
     0       ./proc
     13M     ./run
     0       ./sys
     22M     ./etc
     56K     ./root
     9.9G    ./var      # ì°¾ì•˜ë‹¤ ìš”ë†ˆ ìœ ë… í° ìš©ëŸ‰ì´ ë³´ìž„
     1.2G    ./usr		
     49M     ./boot
     16K     ./home
     0       ./media
     0       ./mnt
     0       ./opt
     0       ./srv
     4.0K    ./tmp
     7.2M    ./vagrant
     3.5G    .
     ```

     ```shell
     # G ìš©ëŸ‰ì¸ í•˜ìœ„ ë””ë ‰í† ë¦¬ ì°¾ê¸°
     [root@cent1 /]# du -h --max-depth=1 | grep G
     9.9G    ./var
     1.2G    ./usr
     3.5G    .
     ```
     
     `du -h --max-depth=1 | grep G` : Gê°€ ë“¤ì–´ ìžˆëŠ” ë””ë ‰í† ë¦¬ ì°¾ê¸°
     
     - íŒŒì¼ê¹Œì§€ ì°¾ì•„ì•¼ í•  ê²½ìš°ëŠ” `du -sh * | grep G`

       ```shell
       [root@cent1 /]# du -sh * | grep G
       9.9G    ./var
       2.0G    swapfile # íŒŒì¼
       1.2G    usr
       ```
     
   - `2>dev/null`: ì—ëŸ¬ë¡œê·¸ë¥¼ null ë””ë ‰í† ë¦¬ë¡œ redirectí•´ì„œ ì—ëŸ¬ë¡œê·¸ ì¶œë ¥ ì•ˆ ë˜ê²Œ í•˜ëŠ” ë°©ë²•
   
     > 1: í‘œì¤€ì¶œë ¥
     >
     > 2: ì—ëŸ¬ì¶œë ¥
     >
     > ```shell
     > [root@cent1 /]# du -h --max-depth=1 2>/dev/null
     > 0       ./dev
     > 0       ./proc
     > 13M     ./run
     > 0       ./sys
     > 22M     ./etc
     > 56K     ./root
     > 172M    ./var
     > 1.2G    ./usr
     > 49M     ./boot
     > 16K     ./home
     > 0       ./media
     > 0       ./mnt
     > 0       ./opt
     > 0       ./srv
     > 4.0K    ./tmp
     > 7.2M    ./vagrant
     > 3.5G    .
     > ```
   
   - ìµœì¢…ì ìœ¼ë¡œ ìš©ëŸ‰ì´ í° log íŒŒì¼ì´ ìžˆëŠ” ê±¸ í™•ì¸í•˜ê³  `rm -f` ë¡œ íŒŒì¼ ì‚­ì œí•´ì£¼ë©´
   
     íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë—~~~ì´ ì•„ë‹ˆê³ 
   
     ìˆ˜ë™ìœ¼ë¡œ í™ˆíŽ˜ì´ì§€ ì´ìš©ì‹œ ë°œìƒí•˜ëŠ” ë¡œê·¸ë¥¼ 3ì´ˆ ê°„ê²©ìœ¼ë¡œ í™•ì¸í•´ì„œ ë¡œê·¸ê°€ ìž˜ ìŒ“ì´ëŠ”ì§€ ê²€ì‚¬í•´ë³´ìž
   
     `watch -n 3 ls -al` 

     ```shell
     [root@cent1 /]# watch -n 3 ls -al /var/log/nginx
     
     Every 3.0s: ls -al /var/log/nginx        cent1: Wed Nov 24 16:47:15 2021
     total 20
     drwxrwx---.  2 nginx root   63 Nov 24 14:53 .
     drwxr-xr-x. 12 root  root 4096 Nov 24 08:47 ..
     -rw-r--r--.  1 root  root 9404 Nov 24 16:47 access.log # ìˆ«ìž ì¦ê°€
     -rw-r--r--.  1 root  root  512 Nov 24 11:45 error.log
     -rw-r--r--.  1 root  root    0 Nov 24 08:47 VWS.access.log
     ```
   
     http://172.18.1.91/www/index.html
   
     ìƒˆë¡œê³ ì¹¨í•  ë•Œ ë§ˆë‹¤ 3ì´ˆ ê°„ê²© ë§ˆë‹¤ access.logì˜ ìš©ëŸ‰ì´ ëŠ˜ì–´ë‚¨
   
   - ë””ìŠ¤í¬ ìš©ëŸ‰ ê°ì‹œ
   
     `watch -n 3 df`

     ```shell
     Every 3.0s: df                           cent1: Wed Nov 24 16:52:17 2021
     Filesystem     1K-blocks    Used Available Use% Mounted on
     devtmpfs          477680       0    477680   0% /dev
     tmpfs             496124       0    496124   0% /dev/shm
     tmpfs             496124   12828    483296   3% /run
     tmpfs             496124       0    496124   0% /sys/fs/cgroup
     /dev/sda1       10474496 3742216   6732280  36% /
     tmpfs              99224       0     99224   0% /run/user/1000
     tmpfs              99224       0     99224   0% /run/user/0
     ```
   
     ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë””ìŠ¤í¬ ìš©ëŸ‰ ì¦ê°€



##### ì›¹ ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŠ¸ ì¶”ê°€

```shell
[root@cent1 /]# sudo ls -al /etc/hosts
-rw-r--r--. 1 root root 234 Nov 24 08:47 /etc/hosts
[root@cent1 /]# sudo cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
127.0.1.1 cent1 cent1
172.18.1.91 cent1
172.18.1.92 cent2
172.18.1.93 cent3
```

- `cat`: íŒŒì¼ ë³´ê¸°, ë§Œë“¤ê¸°, ìˆ˜ì •í•  ë•Œ ì‚¬ìš©

- `>`: ìž…ë ¥

- `<`: ì¶œë ¥

  `cat >> hosts`: ê¸°ì¡´ ë‚´ìš©ì— ì¶”ê°€

  `cat > hosts`: ê¸°ì¡´ ë‚´ìš©ì— ë®ì–´ì¨ì ¸ì„œ ê¸°ì¡´ ë‚´ìš© ë‹¤ ë‚ ë¼ê°„ ì±„ë¡œ ì¶”ê°€ðŸ¤¯

  ```shell
  [root@cent1 etc]# cat >> hosts
  172.18.1.91 vws.tmpcompany.com
  
  [root@cent1 etc]# cat hosts
  172.18.1.91 vws.tmpcompany.com
  127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
  ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
  127.0.1.1 cent1 cent1
  172.18.1.91 cent1
  172.18.1.92 cent2
  172.18.1.93 cent3
  ```

