# TIL 210213

 

1. Salt

   비밀번호는 해시함수값으로 DB에 저장하는데

   이미 Rainbow Table에 해시값 적용하면 비밀번호를 알 수 있음

   salt는 무작위 단어로 새로운 해시값을 추가로 password에 적용함



2. Token Based Auth

   ![image-20210213171222116](C:\Users\thwjd\AppData\Roaming\Typora\typora-user-images\image-20210213171222116.png)

   JWT

   헤더: Algorithm, Token type

   - 어떤 알고리즘으로 인크립션(암호화)할건지 결정

     ```json
     {
     	"alg": "HS256",
         "typ": "JWT"
     }
     ```

     

   페이로드: Data

   - 개발자가 원하는 걸 저장하면 된다.

   - 네트워크에 정보가 올라가므로 최소한의 데이터만 저장하는 걸 권장

     ```json
     {
         "id": "1223034", // 사용자 unique id
         "exp": 21313, 	 // 토큰 만료기간
         ...,
         "CreditCardNum": 3242342	// 절대 X, 헤더와 페이로드는 암호화되지 않음
     }
     ```

     

   시그니쳐

   - 헤더와 페이로드에 시크릿키를 추가한 채 저장

     ```json
     HMACSHA256(
       base64UrlEncode(header) + "." +
       base64UrlEncode(payload),
       ZEZE // SECRET KET
     )
     ```

     